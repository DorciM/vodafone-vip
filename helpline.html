<div class="helpline-form pb-4 material">
    <h2>HelpLine top információk</h2>
    <form>
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label for="keyword">Keresőszó</label>
                    <input type="text" class="form-control" id="keyword" onKeyUp="hl_top_questions_smart_search()">
                </div>
                <div class="form-group">
                    <label for="number">Sorszám</label>
                    <input type="text" class="form-control" id="number">
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label for="topics">Témák</label>
                    <select class="form-control" id="topics" onChange="hl_top_questions_smart_search()">
                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label for="startDate">Kezdő dátum</label>
                    <input type="text" class="form-control datepicker" id="startDate" onKeyUp="hl_top_questions_smart_search()">
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label for="endDate">Záró dátum</label>
                    <input type="text" class="form-control datepicker" id="endDate" onKeyUp="hl_top_questions_smart_search()">
                </div>
            </div>
        </div>
        <div class="text-right">
            <button type="submit" class="btn btn-lg btn-primary">Küldés</button>
        </div>
    </form>
</div>
<div style="width:100%;" id="included_hl_top_questions"><?php include("hl_top_questions/hl_top_questions_include.php");?></div>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script>
window.onload=function()
{request=window.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP");
 request.open("GET","helpline.php",true);
 request.onreadystatechange=function(){if(this.readyState==4&&this.status==200){/*JSON.parse(this.responseText)*/topics=[{id:"1",tema:"a"},{id:"2",tema:"b"},{id:"3",tema:"c"},{id:"4",tema:"d"}];topics.map(function(topic){option=document.getElementsByTagName("select")[0].appendChild(document.createElement("option"));option.setAttribute("value",topic['id']);option.innerHTML=topic['tema'];});}}
 request.send();
}
function hl_top_questions_smart_search(){
 request.open("POST","hl_top_questions/hl_top_questions_include.php",true);
 request.setRequestHeader('Content-Type','application/json');
 request.onreadystatechange=function(){if(this.readyState==4&&this.status==200){document.getElementById("included_hl_top_questions").innerHTML=this.responseText}}
 request.send(JSON.stringify({hl_keresoszo:document.getElementById("keyword").value,hl_tema:document.getElementById("topics").value,hl_sorszam:document.getElementById("number").value,hl_datum_tol:document.getElementById("startDate").value,hl_datum_ig:document.getElementById("endDate").value,ajax:1}));
}
</script>